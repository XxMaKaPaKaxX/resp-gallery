{"version":3,"sources":["modules/Image.jsx","modules/Gallery.jsx","modules/ImgContainer.jsx","modules/Comments.jsx","modules/ImgInfoWindow.jsx","modules/App.jsx","index.js"],"names":["Image","id","url","activateImg","apiUrl","size","md","lg","className","onClick","e","src","alt","data-id","Gallery","data","images","map","img","ImgContainer","role","Comments","comments","console","log","undefined","length","displayedComments","comment","Date","date","toLocaleString","text","ImgInfoWindow","imgId","deactivateImg","useState","setData","name","setName","setComment","useEffect","fetch","then","resp","json","handleChange","target","value","onSubmit","preventDefault","message","method","headers","body","JSON","stringify","catch","error","handleSubmit","onChange","type","placeholder","App","setImages","activatedImgID","setActivatedImgID","getAttribute","window","scroll","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e503d0e5.chunk.js","sourcesContent":["import React from 'react';\n\nconst Image = ({ id, url, apiUrl, activateImg }) => {\n\n\n    return (\n        <div size='12' md='6' lg='4' className='mb-3 col-12 col-md-6 col-lg-4'>\n            <img className=\"img-fluid\" onClick={(e) => activateImg(e)} src={url} alt={`image_${id}`} data-id={id} />\n        </div>\n    );\n}\n\nexport default Image;\n","import React from 'react';\nimport Image from './Image';\n\nconst Gallery = ({ data, apiUrl, activateImg }) => {\n\n    const images = data.map(img => (\n        <Image\n            key={img.id}\n            id={img.id}\n            url={img.url}\n            apiUrl={apiUrl}\n            activateImg={activateImg}\n        />\n    ))\n\n    return (\n        <div className='container'>\n            <div className=\"row text-center\">\n                {images}\n            </div>\n        </div>\n    );\n}\n\nexport default Gallery;","import React from 'react';\nconst ImgContainer = ({ url }) => {\n    return (\n        <div className=\"img-container w-100 d-flex align-items-center justify-content-center\">\n            {url\n                ? <img src={url} className=\"img-fluid\" alt=\"\" />\n                : <div className=\"spinner-border\" role=\"status\">\n                    <span className=\"visually-hidden\"></span>\n                </div>}\n        </div>\n    );\n}\n\nexport default ImgContainer;","import React from 'react';\nconst Comments = ({ comments }) => {\n\n    console.log((comments === undefined) || ([...comments].length === 0))\n    if (comments === undefined || ([...comments].length === 0)) {\n        return (\n            <div>\n                brak kommentarzy\n            </div>\n        )\n    } else {\n        const displayedComments = [...comments].map(comment => (\n            <div key={comment.id}>\n                <p>\n                    {(new Date(comment.date)).toLocaleString()}\n                </p>\n                <p>\n                    {comment.text}\n                </p>\n            </div>\n        ))\n        return (\n            <div>\n                {displayedComments}\n            </div>\n        );\n    }\n}\n\nexport default Comments;","import React, { useState, useEffect } from \"react\";\nimport ImgContainer from './ImgContainer';\n\nimport Comments from './Comments'\n\nconst ImgInfoWindow = ({ imgId, apiUrl, deactivateImg }) => {\n\n    const [data, setData] = useState('');\n\n    const [name, setName] = useState('');\n    const [comment, setComment] = useState('');\n\n\n    useEffect(() => {\n        fetch(`${apiUrl}/${imgId}`)\n            .then(resp => resp.json())\n            .then(resp => setData(resp))\n    }, []);\n\n    const handleChange = (e) => {\n        switch (e.target.id) {\n            case 'form-comment':\n                setComment(e.target.value);\n                break;\n            case 'form-name':\n                setName(e.target.value);\n                break;\n            default:\n                console.log('smth go wrong!');\n        }\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const message = {\n            name,\n            comment\n        }\n        console.log('wysłane');\n        console.log(`${apiUrl}/${imgId}/comments`)\n        fetch(`${apiUrl}/${imgId}/comments`, {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(message)\n        })\n            .then(setName(''))\n            .then(setComment(''))\n            .catch(error => console.error(error));\n    }\n\n    return (\n        <div className='img-modal-window'>\n\n            <div className=\"row\">\n                <div className=\"col-md-7\">\n                    <ImgContainer url={data.url} />\n                    <div className=\"post-comment\">\n                        <form className=\"text-center\" onSubmit={(e) => handleSubmit(e)}>\n                            <input\n                                value={name}\n                                onChange={(e) => handleChange(e)}\n                                type=\"text\"\n                                id=\"form-name\"\n                                className=\"form-control my-3\"\n                                placeholder=\"Twoje imię\"\n                            />\n                            <input\n                                value={comment}\n                                onChange={(e) => handleChange(e)}\n                                type=\"text\"\n                                id=\"form-comment\"\n                                className=\"form-control my-3\"\n                                placeholder=\"Twój kommentarz\" />\n                            <input type=\"submit\" className=\"btn btn-primary w-100 mx-0\" value=\"Wyślij\"></input>\n                        </form>\n                    </div>\n                </div>\n                <div className=\"col-md-5\">\n                    <h3 className=\"comments-title my-3\">Komentarze:</h3>\n                    <Comments comments={data.comments} />\n                </div>\n            </div>\n\n            <button className=\"btn btn-outline-primary closing_btn\" onClick={deactivateImg}>\n                <i className=\"fas fa-times\"></i>\n            </button>\n        </div>\n    );\n}\n\nexport default ImgInfoWindow;","import React, { useEffect, useState } from 'react';\n\nimport Gallery from './Gallery';\nimport ImgInfoWindow from './ImgInfoWindow';\n\nimport '../style/App.scss';\n\nfunction App() {\n  const apiUrl = 'https://boiling-refuge-66454.herokuapp.com/images';\n\n  const [images, setImages] = useState([]);\n  const [activatedImgID, setActivatedImgID] = useState(null);\n  /* const [xCoord, setXCoord] = useState(0); */\n\n  const activateImg = (e) => {\n    /* console.log(e.target.getClientRects()[0].y);\n    setXCoord(e.target.getClientRects()[0].y) */\n    setActivatedImgID(e.target.getAttribute('data-id'));\n\n    window.scroll(0, 0)\n\n\n\n  }\n\n  const deactivateImg = () => {\n    setActivatedImgID(null);\n    /* window.scrollTo(0, {xCoord}) */\n  }\n\n  useEffect(() => {\n    fetch(apiUrl)\n      .then(resp => resp.json())\n      .then(resp => setImages(resp))\n  }, [])\n\n  return (\n    <div className=\"App\">\n      <h1 className='app-title'>Test app</h1>\n      <Gallery\n        data={images}\n        apiUrl={apiUrl}\n        activateImg={activateImg}\n      />\n      {activatedImgID !== null && <ImgInfoWindow imgId={activatedImgID} apiUrl={apiUrl} deactivateImg={deactivateImg} />}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './modules/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}